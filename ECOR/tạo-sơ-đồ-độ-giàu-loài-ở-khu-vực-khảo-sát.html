<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Phần 5 Tạo sơ đồ độ giàu loài ở khu vực khảo sát | Phân tích dữ liệu sinh thái học cơ bản với R</title>
  <meta name="description" content="Tài liệu này giới thiệu một số phân tích dữ liệu sinh thái học cơ bản với phần mềm R." />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Phần 5 Tạo sơ đồ độ giàu loài ở khu vực khảo sát | Phân tích dữ liệu sinh thái học cơ bản với R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Tài liệu này giới thiệu một số phân tích dữ liệu sinh thái học cơ bản với phần mềm R." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Phần 5 Tạo sơ đồ độ giàu loài ở khu vực khảo sát | Phân tích dữ liệu sinh thái học cơ bản với R" />
  
  <meta name="twitter:description" content="Tài liệu này giới thiệu một số phân tích dữ liệu sinh thái học cơ bản với phần mềm R." />
  

<meta name="author" content="Nguyễn Lê Xuân Bách" />


<meta name="date" content="2024-09-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="bandocoban.html"/>
<link rel="next" href="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.33/datatables.js"></script>
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Giới thiệu</a></li>
<li class="chapter" data-level="1" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><i class="fa fa-check"></i><b>1</b> Một số thao tác cơ bản đối với dữ liệu đa dạng sinh học</a>
<ul>
<li class="chapter" data-level="1.1" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#sontra"><i class="fa fa-check"></i><b>1.1</b> Dữ liệu</a></li>
<li class="chapter" data-level="1.2" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#đọc-dữ-liệu"><i class="fa fa-check"></i><b>1.2</b> Đọc dữ liệu</a></li>
<li class="chapter" data-level="1.3" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#thao-tác-cơ-bản-trên-dữ-liệu"><i class="fa fa-check"></i><b>1.3</b> Thao tác cơ bản trên dữ liệu</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#xem-số-lượng-dòng-và-cột"><i class="fa fa-check"></i><b>1.3.1</b> Xem số lượng dòng và cột</a></li>
<li class="chapter" data-level="1.3.2" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#lọc-dữ-liệu-theo-cột"><i class="fa fa-check"></i><b>1.3.2</b> Lọc dữ liệu theo cột</a></li>
<li class="chapter" data-level="1.3.3" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#trích-lọc-theo-dòng-trong-bảng."><i class="fa fa-check"></i><b>1.3.3</b> Trích lọc theo dòng trong bảng.</a></li>
<li class="chapter" data-level="1.3.4" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#sắp-xếp-dữ-liệu"><i class="fa fa-check"></i><b>1.3.4</b> Sắp xếp dữ liệu</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#thống-kê-số-lượng"><i class="fa fa-check"></i><b>1.4</b> Thống kê số lượng</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#cách-1-với-các-lệnh-từ-gói-tidyverse"><i class="fa fa-check"></i><b>1.4.1</b> Cách 1 với các lệnh từ gói <code>Tidyverse</code></a></li>
<li class="chapter" data-level="1.4.2" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#cách-2-sử-dụng-gói-lệnh-bdvis"><i class="fa fa-check"></i><b>1.4.2</b> Cách 2 sử dụng gói lệnh bdvis</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#biểu-đồ"><i class="fa fa-check"></i><b>1.5</b> Biểu đồ</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#vẽ-nhanh-một-số-biểu-đồ-với-gói-bdvis"><i class="fa fa-check"></i><b>1.5.1</b> Vẽ nhanh một số biểu đồ với gói <code>bdvis</code></a></li>
<li class="chapter" data-level="1.5.2" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#số-lượng-ghi-nhận-với-gói-lệnh-ggplot2"><i class="fa fa-check"></i><b>1.5.2</b> Số lượng ghi nhận với gói lệnh <code>GGPLOT2</code></a></li>
<li class="chapter" data-level="1.5.3" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#biểu-đồ-treemap-thể-hiện-số-lượng-ghi-nhận-theo-họ."><i class="fa fa-check"></i><b>1.5.3</b> Biểu đồ treemap thể hiện số lượng ghi nhận theo họ.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><i class="fa fa-check"></i><b>2</b> Tra cứu cấp độ quý hiếm của loài theo IUCN</a>
<ul>
<li class="chapter" data-level="2.1" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#xin-cấp-và-khai-báo-mã-cá-nhân-từ-iucn"><i class="fa fa-check"></i><b>2.1</b> Xin cấp và khai báo mã cá nhân từ IUCN</a></li>
<li class="chapter" data-level="2.2" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#sử-dụng-gói-rredlist"><i class="fa fa-check"></i><b>2.2</b> Sử dụng gói <code>rredlist</code></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#tra-cứu-cho-1-loài"><i class="fa fa-check"></i><b>2.2.1</b> Tra cứu cho 1 loài</a></li>
<li class="chapter" data-level="2.2.2" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#tra-cứu-cho-nhiều-loài"><i class="fa fa-check"></i><b>2.2.2</b> Tra cứu cho nhiều loài</a></li>
<li class="chapter" data-level="2.2.3" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#xem-quốc-gia-có-sự-phân-bố-của-loài"><i class="fa fa-check"></i><b>2.2.3</b> Xem quốc gia có sự phân bố của loài:</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#sử-dụng-gói-taxize"><i class="fa fa-check"></i><b>2.3</b> Sử dụng gói <code>taxize</code></a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#tra-cứu-cho-1-loài-1"><i class="fa fa-check"></i><b>2.3.1</b> Tra cứu cho 1 loài</a></li>
<li class="chapter" data-level="2.3.2" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#tra-cứu-cho-nhiều-loài-1"><i class="fa fa-check"></i><b>2.3.2</b> 2.2.2 Tra cứu cho nhiều loài</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#tính-chỉ-số-red-list-index"><i class="fa fa-check"></i><b>2.4</b> Tính chỉ số Red List Index</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html"><i class="fa fa-check"></i><b>3</b> Xử lý danh pháp</a>
<ul>
<li class="chapter" data-level="3.1" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#tách-phần-tên-khoa-học-và-tên-tác-giả"><i class="fa fa-check"></i><b>3.1</b> Tách phần tên khoa học và tên tác giả</a></li>
<li class="chapter" data-level="3.2" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#kiểm-tra-lỗi-chính-tả-tình-trạng-danh-pháp"><i class="fa fa-check"></i><b>3.2</b> Kiểm tra lỗi chính tả, tình trạng danh pháp</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#nhóm-thực-vật"><i class="fa fa-check"></i><b>3.2.1</b> Nhóm Thực vật</a></li>
<li class="chapter" data-level="3.2.2" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#ví-dụ-với-gói-lệnh-rwcvp"><i class="fa fa-check"></i><b>3.2.2</b> Ví dụ với gói lệnh <code>rWCVP</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#danh-pháp-động-vật"><i class="fa fa-check"></i><b>3.2.3</b> Danh pháp động vật</a></li>
<li class="chapter" data-level="3.2.4" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#xem-thông-tin-về-loài"><i class="fa fa-check"></i><b>3.2.4</b> Xem thông tin về loài</a></li>
<li class="chapter" data-level="3.2.5" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#tìm-các-cấp-phân-loại-từ-tên-loài"><i class="fa fa-check"></i><b>3.2.5</b> Tìm các cấp phân loại từ tên loài</a></li>
<li class="chapter" data-level="3.2.6" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#xem-danh-sách-các-tên-đồng-danh-của-một-loài-với-bộ-dữ-liệu-eol"><i class="fa fa-check"></i><b>3.2.6</b> Xem danh sách các tên đồng danh của một loài với bộ dữ liệu EOL</a></li>
<li class="chapter" data-level="3.2.7" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#xem-danh-sách-tất-cả-các-taxa-con-của-một-taxon"><i class="fa fa-check"></i><b>3.2.7</b> Xem danh sách tất cả các taxa con của một taxon</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="bandocoban.html"><a href="bandocoban.html"><i class="fa fa-check"></i><b>4</b> Thao tác cơ bản với tập tin bản đồ</a>
<ul>
<li class="chapter" data-level="4.1" data-path="bandocoban.html"><a href="bandocoban.html#tập-tin-vector"><i class="fa fa-check"></i><b>4.1</b> Tập tin vector</a></li>
<li class="chapter" data-level="4.2" data-path="bandocoban.html"><a href="bandocoban.html#tập-tin-dạng-raster"><i class="fa fa-check"></i><b>4.2</b> Tập tin dạng raster</a></li>
<li class="chapter" data-level="4.3" data-path="bandocoban.html"><a href="bandocoban.html#biên-tập-bản-đồ-với-gói-lệnh-ggplot-và-ggspatial"><i class="fa fa-check"></i><b>4.3</b> Biên tập bản đồ với gói lệnh <code>ggplot</code> và <code>ggspatial</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><i class="fa fa-check"></i><b>5</b> Tạo sơ đồ độ giàu loài ở khu vực khảo sát</a>
<ul>
<li class="chapter" data-level="5.1" data-path="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#tạo-sơ-đồ-vị-trí-ghi-nhận-từ-dữ-liệu-sơn-trà"><i class="fa fa-check"></i><b>5.1</b> Tạo sơ đồ vị trí ghi nhận từ dữ liệu Sơn Trà</a></li>
<li class="chapter" data-level="5.2" data-path="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#tạo-sơ-đồ-độ-giàu-loài"><i class="fa fa-check"></i><b>5.2</b> Tạo sơ đồ độ giàu loài</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#tạo-lưới-có-kích-thước-1km-với-lệnh-st_make_grid."><i class="fa fa-check"></i><b>5.2.1</b> Tạo lưới có kích thước 1km với lệnh <code>st_make_grid</code>.</a></li>
<li class="chapter" data-level="5.2.2" data-path="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#đếm-số-lượng-loài-ghi-nhận-trong-từng-ô-lưới."><i class="fa fa-check"></i><b>5.2.2</b> Đếm số lượng loài ghi nhận trong từng ô lưới.</a></li>
<li class="chapter" data-level="5.2.3" data-path="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#trình-bày-sơ-đồ-hoàn-chỉnh"><i class="fa fa-check"></i><b>5.2.3</b> Trình bày sơ đồ hoàn chỉnh</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html"><a href="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html"><i class="fa fa-check"></i><b>6</b> Tải ghi nhận loài từ dữ liệu GBIF</a>
<ul>
<li class="chapter" data-level="6.1" data-path="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html"><a href="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html#tải-ghi-nhận"><i class="fa fa-check"></i><b>6.1</b> Tải ghi nhận</a></li>
<li class="chapter" data-level="6.2" data-path="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html"><a href="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html#tạo-sơ-đồ-vị-trí-ghi-nhận"><i class="fa fa-check"></i><b>6.2</b> Tạo sơ đồ vị trí ghi nhận</a></li>
<li class="chapter" data-level="6.3" data-path="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html"><a href="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html#xuất-dữ-liệu-sang-excel"><i class="fa fa-check"></i><b>6.3</b> Xuất dữ liệu sang Excel</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dự-đoán-vùng-phân-bố-loài.html"><a href="dự-đoán-vùng-phân-bố-loài.html"><i class="fa fa-check"></i><b>7</b> Dự đoán vùng phân bố loài</a>
<ul>
<li class="chapter" data-level="7.1" data-path="dự-đoán-vùng-phân-bố-loài.html"><a href="dự-đoán-vùng-phân-bố-loài.html#lấy-dữ-liệu-ghi-nhận-loài-gõ-đỏ-afzelia-xylocarpa-từ-gbif"><i class="fa fa-check"></i><b>7.1</b> Lấy dữ liệu ghi nhận loài Gõ đỏ (<em>Afzelia xylocarpa</em>) từ GBIF</a></li>
<li class="chapter" data-level="7.2" data-path="dự-đoán-vùng-phân-bố-loài.html"><a href="dự-đoán-vùng-phân-bố-loài.html#xem-sơ-đồ-phân-bố-các-ghi-nhận"><i class="fa fa-check"></i><b>7.2</b> Xem sơ đồ phân bố các ghi nhận</a></li>
<li class="chapter" data-level="7.3" data-path="dự-đoán-vùng-phân-bố-loài.html"><a href="dự-đoán-vùng-phân-bố-loài.html#chạy-mô-phỏng-maxent"><i class="fa fa-check"></i><b>7.3</b> Chạy mô phỏng Maxent</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html"><a href="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html"><i class="fa fa-check"></i><b>8</b> Tính chỉ số đa dạng sinh học và loài quan trọng trong ô định vị</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html"><a href="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html#tạo-dữ-liệu-giả-lập"><i class="fa fa-check"></i><b>8.1</b> Tạo dữ liệu giả lập</a></li>
<li class="chapter" data-level="8.2" data-path="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html"><a href="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html#phân-tích"><i class="fa fa-check"></i><b>8.2</b> Phân tích</a></li>
<li class="chapter" data-level="8.3" data-path="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html"><a href="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html#chỉ-số-đa-dạng-sinh-học"><i class="fa fa-check"></i><b>8.3</b> Chỉ số đa dạng sinh học</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html"><a href="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html#tính-chỉ-số-ivi"><i class="fa fa-check"></i><b>8.3.1</b> Tính chỉ số IVI</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Phân tích dữ liệu sinh thái học cơ bản với R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Phần 5</span> Tạo sơ đồ độ giàu loài ở khu vực khảo sát<a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="tạo-sơ-đồ-vị-trí-ghi-nhận-từ-dữ-liệu-sơn-trà" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Tạo sơ đồ vị trí ghi nhận từ dữ liệu Sơn Trà<a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#tạo-sơ-đồ-vị-trí-ghi-nhận-từ-dữ-liệu-sơn-trà" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb136-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb136-2"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb136-2" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb136-3"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb136-3" tabindex="-1"></a><span class="fu">library</span>(ggspatial)</span></code></pre></div>
<p>Chuẩn bị lớp ranh giới khu vực Sơn Trà. Dùng lệnh <code>st_crop</code> để cắt khu vực Sơn Trà từ dữ liệu Việt Nam.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb137-1" tabindex="-1"></a>vietnam <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&quot;DATA/Vietnamdiaphantinh.geojson&quot;</span>)</span></code></pre></div>
<pre><code>## Reading layer `Vietnamdiaphantinh&#39; from data source 
##   `/Users/bachnguyen/Library/CloudStorage/OneDrive-Personal/WORKING/ECOR/DATA/Vietnamdiaphantinh.geojson&#39; 
##   using driver `GeoJSON&#39;
## Simple feature collection with 63 features and 3 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: 102.1421 ymin: 6.953306 xmax: 116.9473 ymax: 23.3939
## Geodetic CRS:  WGS 84</code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb139-1" tabindex="-1"></a>sontra_poly <span class="ot">&lt;-</span> <span class="fu">st_crop</span>(vietnam, <span class="at">xmin =</span> <span class="fl">108.2</span>, <span class="at">xmax =</span> <span class="fl">108.35</span>, <span class="at">ymin =</span> <span class="fl">16.09</span>, <span class="at">ymax =</span> <span class="fl">16.17</span>)</span></code></pre></div>
<p>Đọc bộ dữ liệu ghi nhận loài tại Sơn Trà đã giới thiệu ở phần <a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#sontra">1.1</a>. Sau đó dùng lệnh <code>st_as_sf</code> để chuyển sang dạng tập tin bản đồ dựa vào 2 cột “decimalLongitude” và “decimalLatitude”. Vì đây là dữ liệu dạng WGS84 lonlat nên chúng ta chọn mã <code>crs=4326</code>.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb140-1" tabindex="-1"></a>sontra <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;DATA/occurrence_SonTra_Peninsula.csv&quot;</span>)</span>
<span id="cb140-2"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb140-2" tabindex="-1"></a><span class="co">#chuyen sang dạng tập tin bản đồ</span></span>
<span id="cb140-3"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb140-3" tabindex="-1"></a>sontra_sf <span class="ot">&lt;-</span> sontra <span class="sc">|&gt;</span> <span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;decimalLongitude&quot;</span>, <span class="st">&quot;decimalLatitude&quot;</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span></code></pre></div>
<p>Vẽ sơ đồ thể hiện vị trí ghi nhận</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb141-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb141-2"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb141-2" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> sontra_poly, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color=</span><span class="st">&quot;pink&quot;</span>) <span class="sc">+</span></span>
<span id="cb141-3"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb141-3" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> sontra_sf, <span class="fu">aes</span>(<span class="at">color =</span> class), <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb141-4"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb141-4" tabindex="-1"></a>  <span class="fu">annotation_north_arrow</span>(<span class="at">location =</span> <span class="st">&quot;tr&quot;</span>, <span class="at">height=</span><span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">&quot;cm&quot;</span>), <span class="at">width=</span><span class="fu">unit</span>(<span class="fl">0.75</span>, <span class="st">&quot;cm&quot;</span>)) <span class="sc">+</span></span>
<span id="cb141-5"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb141-5" tabindex="-1"></a>  <span class="fu">annotation_scale</span>(<span class="at">location =</span> <span class="st">&quot;br&quot;</span>, <span class="at">width_hint =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb141-6"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb141-6" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">size =</span> <span class="fl">0.1</span>, <span class="at">linetype =</span> <span class="st">&#39;solid&#39;</span>)) <span class="sc">+</span></span>
<span id="cb141-7"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb141-7" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb141-8"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb141-8" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Sơ đồ vị trí ghi nhận&quot;</span>,</span>
<span id="cb141-9"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb141-9" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Longitude&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Latitude&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-104-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="tạo-sơ-đồ-độ-giàu-loài" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Tạo sơ đồ độ giàu loài<a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#tạo-sơ-đồ-độ-giàu-loài" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Để tạo sơ đồ độ giàu loài, chúng ta sẽ tạo các lưới với kích thước nào đó. Sau đó sẽ đếm số lượng loài xuất hiện trong mỗi ô. Dùng số lượng này để thể hiện lên sơ đồ</p>
<div id="tạo-lưới-có-kích-thước-1km-với-lệnh-st_make_grid." class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Tạo lưới có kích thước 1km với lệnh <code>st_make_grid</code>.<a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#tạo-lưới-có-kích-thước-1km-với-lệnh-st_make_grid." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb142-1" tabindex="-1"></a>CRGrid <span class="ot">&lt;-</span> sontra_poly <span class="sc">|&gt;</span></span>
<span id="cb142-2"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb142-2" tabindex="-1"></a>  <span class="fu">st_make_grid</span>(<span class="at">cellsize =</span> <span class="fl">0.008</span>) <span class="sc">|&gt;</span></span>
<span id="cb142-3"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb142-3" tabindex="-1"></a>  <span class="fu">st_intersection</span>(sontra_poly) <span class="sc">|&gt;</span></span>
<span id="cb142-4"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb142-4" tabindex="-1"></a>  <span class="fu">st_cast</span>(<span class="st">&quot;MULTIPOLYGON&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb142-5"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb142-5" tabindex="-1"></a>  <span class="fu">st_sf</span>() <span class="sc">|&gt;</span></span>
<span id="cb142-6"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb142-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cellid =</span> <span class="fu">row_number</span>())</span>
<span id="cb142-7"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb142-7" tabindex="-1"></a></span>
<span id="cb142-8"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb142-8" tabindex="-1"></a></span>
<span id="cb142-9"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb142-9" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb142-10"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb142-10" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> sontra_poly, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color=</span><span class="st">&quot;pink&quot;</span>) <span class="sc">+</span></span>
<span id="cb142-11"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb142-11" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> CRGrid, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>)<span class="sc">+</span></span>
<span id="cb142-12"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb142-12" tabindex="-1"></a>  <span class="fu">theme_classic</span>() </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-105-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="đếm-số-lượng-loài-ghi-nhận-trong-từng-ô-lưới." class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Đếm số lượng loài ghi nhận trong từng ô lưới.<a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#đếm-số-lượng-loài-ghi-nhận-trong-từng-ô-lưới." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb143-1" tabindex="-1"></a><span class="co"># cell richness</span></span>
<span id="cb143-2"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb143-2" tabindex="-1"></a>richness_grid <span class="ot">&lt;-</span> CRGrid <span class="sc">|&gt;</span></span>
<span id="cb143-3"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb143-3" tabindex="-1"></a>  <span class="fu">st_join</span>(sontra_sf) <span class="sc">|&gt;</span></span>
<span id="cb143-4"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb143-4" tabindex="-1"></a>  <span class="fu">distinct_at</span>(<span class="fu">c</span>(<span class="st">&quot;cellid&quot;</span>, <span class="st">&quot;scientificName&quot;</span>), <span class="at">.keep_all =</span> T) <span class="sc">|&gt;</span> </span>
<span id="cb143-5"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb143-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">overlap =</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(occurrenceID), <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">|&gt;</span></span>
<span id="cb143-6"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb143-6" tabindex="-1"></a>  <span class="fu">group_by</span>(cellid) <span class="sc">|&gt;</span></span>
<span id="cb143-7"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb143-7" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">num_species =</span> <span class="fu">sum</span>(overlap))</span></code></pre></div>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb144-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb144-2"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb144-2" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> sontra_poly, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color=</span><span class="st">&quot;pink&quot;</span>) <span class="sc">+</span></span>
<span id="cb144-3"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb144-3" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> CRGrid, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>)<span class="sc">+</span></span>
<span id="cb144-4"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb144-4" tabindex="-1"></a>  <span class="fu">geom_sf_text</span>(<span class="at">data =</span> richness_grid, <span class="fu">aes</span>(<span class="at">label =</span> num_species), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb144-5"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb144-5" tabindex="-1"></a>  <span class="fu">theme_classic</span>() </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-107-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="trình-bày-sơ-đồ-hoàn-chỉnh" class="section level3 hasAnchor" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Trình bày sơ đồ hoàn chỉnh<a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#trình-bày-sơ-đồ-hoàn-chỉnh" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-1" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb145-2"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-2" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> sontra_poly, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color=</span><span class="st">&quot;pink&quot;</span>) <span class="sc">+</span></span>
<span id="cb145-3"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-3" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> CRGrid, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color=</span><span class="st">&quot;white&quot;</span>)<span class="sc">+</span></span>
<span id="cb145-4"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-4" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> richness_grid, <span class="fu">aes</span>(<span class="at">fill =</span> num_species), <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb145-5"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-5" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">name =</span> <span class="st">&quot;Altitude&quot;</span>, <span class="at">option =</span> <span class="st">&quot;plasma&quot;</span>, <span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">na.value =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb145-6"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-6" tabindex="-1"></a>  <span class="fu">geom_sf_text</span>(<span class="at">data =</span> richness_grid, <span class="fu">aes</span>(<span class="at">label =</span> num_species), <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb145-7"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-7" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> sontra_sf, <span class="fu">aes</span>(<span class="at">color =</span> class), <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb145-8"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-8" tabindex="-1"></a>  <span class="fu">annotation_north_arrow</span>(<span class="at">location =</span> <span class="st">&quot;tr&quot;</span>, <span class="at">height=</span><span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">&quot;cm&quot;</span>), <span class="at">width=</span><span class="fu">unit</span>(<span class="fl">0.75</span>, <span class="st">&quot;cm&quot;</span>)) <span class="sc">+</span></span>
<span id="cb145-9"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-9" tabindex="-1"></a>  <span class="fu">annotation_scale</span>(<span class="at">location =</span> <span class="st">&quot;br&quot;</span>, <span class="at">width_hint =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb145-10"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-10" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">size =</span> <span class="fl">0.1</span>, <span class="at">linetype =</span> <span class="st">&#39;solid&#39;</span>)) <span class="sc">+</span></span>
<span id="cb145-11"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-11" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb145-12"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-12" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Sơ đồ độ giàu loài tại Bán đảo Sơn Trà&quot;</span>,</span>
<span id="cb145-13"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-13" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Data: Trần Văn Bằng et. al. &quot;</span>,</span>
<span id="cb145-14"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#cb145-14" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Longitude&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Latitude&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-108-1.png" width="672" style="display: block; margin: auto;" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="bandocoban.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
