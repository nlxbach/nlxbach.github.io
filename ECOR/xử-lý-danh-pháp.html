<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Phần 3 Xử lý danh pháp | Phân tích dữ liệu sinh thái học cơ bản với R</title>
  <meta name="description" content="Tài liệu này giới thiệu một số phân tích dữ liệu sinh thái học cơ bản với phần mềm R." />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Phần 3 Xử lý danh pháp | Phân tích dữ liệu sinh thái học cơ bản với R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Tài liệu này giới thiệu một số phân tích dữ liệu sinh thái học cơ bản với phần mềm R." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Phần 3 Xử lý danh pháp | Phân tích dữ liệu sinh thái học cơ bản với R" />
  
  <meta name="twitter:description" content="Tài liệu này giới thiệu một số phân tích dữ liệu sinh thái học cơ bản với phần mềm R." />
  

<meta name="author" content="Nguyễn Lê Xuân Bách" />


<meta name="date" content="2024-09-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"/>
<link rel="next" href="bandocoban.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.33/datatables.js"></script>
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Giới thiệu</a></li>
<li class="chapter" data-level="1" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><i class="fa fa-check"></i><b>1</b> Một số thao tác cơ bản đối với dữ liệu đa dạng sinh học</a>
<ul>
<li class="chapter" data-level="1.1" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#sontra"><i class="fa fa-check"></i><b>1.1</b> Dữ liệu</a></li>
<li class="chapter" data-level="1.2" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#đọc-dữ-liệu"><i class="fa fa-check"></i><b>1.2</b> Đọc dữ liệu</a></li>
<li class="chapter" data-level="1.3" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#thao-tác-cơ-bản-trên-dữ-liệu"><i class="fa fa-check"></i><b>1.3</b> Thao tác cơ bản trên dữ liệu</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#xem-số-lượng-dòng-và-cột"><i class="fa fa-check"></i><b>1.3.1</b> Xem số lượng dòng và cột</a></li>
<li class="chapter" data-level="1.3.2" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#lọc-dữ-liệu-theo-cột"><i class="fa fa-check"></i><b>1.3.2</b> Lọc dữ liệu theo cột</a></li>
<li class="chapter" data-level="1.3.3" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#trích-lọc-theo-dòng-trong-bảng."><i class="fa fa-check"></i><b>1.3.3</b> Trích lọc theo dòng trong bảng.</a></li>
<li class="chapter" data-level="1.3.4" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#sắp-xếp-dữ-liệu"><i class="fa fa-check"></i><b>1.3.4</b> Sắp xếp dữ liệu</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#thống-kê-số-lượng"><i class="fa fa-check"></i><b>1.4</b> Thống kê số lượng</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#cách-1-với-các-lệnh-từ-gói-tidyverse"><i class="fa fa-check"></i><b>1.4.1</b> Cách 1 với các lệnh từ gói <code>Tidyverse</code></a></li>
<li class="chapter" data-level="1.4.2" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#cách-2-sử-dụng-gói-lệnh-bdvis"><i class="fa fa-check"></i><b>1.4.2</b> Cách 2 sử dụng gói lệnh bdvis</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#biểu-đồ"><i class="fa fa-check"></i><b>1.5</b> Biểu đồ</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#vẽ-nhanh-một-số-biểu-đồ-với-gói-bdvis"><i class="fa fa-check"></i><b>1.5.1</b> Vẽ nhanh một số biểu đồ với gói <code>bdvis</code></a></li>
<li class="chapter" data-level="1.5.2" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#số-lượng-ghi-nhận-với-gói-lệnh-ggplot2"><i class="fa fa-check"></i><b>1.5.2</b> Số lượng ghi nhận với gói lệnh <code>GGPLOT2</code></a></li>
<li class="chapter" data-level="1.5.3" data-path="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html"><a href="một-số-thao-tác-cơ-bản-đối-với-dữ-liệu-đa-dạng-sinh-học.html#biểu-đồ-treemap-thể-hiện-số-lượng-ghi-nhận-theo-họ."><i class="fa fa-check"></i><b>1.5.3</b> Biểu đồ treemap thể hiện số lượng ghi nhận theo họ.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><i class="fa fa-check"></i><b>2</b> Tra cứu cấp độ quý hiếm của loài theo IUCN</a>
<ul>
<li class="chapter" data-level="2.1" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#xin-cấp-và-khai-báo-mã-cá-nhân-từ-iucn"><i class="fa fa-check"></i><b>2.1</b> Xin cấp và khai báo mã cá nhân từ IUCN</a></li>
<li class="chapter" data-level="2.2" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#sử-dụng-gói-rredlist"><i class="fa fa-check"></i><b>2.2</b> Sử dụng gói <code>rredlist</code></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#tra-cứu-cho-1-loài"><i class="fa fa-check"></i><b>2.2.1</b> Tra cứu cho 1 loài</a></li>
<li class="chapter" data-level="2.2.2" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#tra-cứu-cho-nhiều-loài"><i class="fa fa-check"></i><b>2.2.2</b> Tra cứu cho nhiều loài</a></li>
<li class="chapter" data-level="2.2.3" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#xem-quốc-gia-có-sự-phân-bố-của-loài"><i class="fa fa-check"></i><b>2.2.3</b> Xem quốc gia có sự phân bố của loài:</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#sử-dụng-gói-taxize"><i class="fa fa-check"></i><b>2.3</b> Sử dụng gói <code>taxize</code></a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#tra-cứu-cho-1-loài-1"><i class="fa fa-check"></i><b>2.3.1</b> Tra cứu cho 1 loài</a></li>
<li class="chapter" data-level="2.3.2" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#tra-cứu-cho-nhiều-loài-1"><i class="fa fa-check"></i><b>2.3.2</b> 2.2.2 Tra cứu cho nhiều loài</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html"><a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html#tính-chỉ-số-red-list-index"><i class="fa fa-check"></i><b>2.4</b> Tính chỉ số Red List Index</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html"><i class="fa fa-check"></i><b>3</b> Xử lý danh pháp</a>
<ul>
<li class="chapter" data-level="3.1" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#tách-phần-tên-khoa-học-và-tên-tác-giả"><i class="fa fa-check"></i><b>3.1</b> Tách phần tên khoa học và tên tác giả</a></li>
<li class="chapter" data-level="3.2" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#kiểm-tra-lỗi-chính-tả-tình-trạng-danh-pháp"><i class="fa fa-check"></i><b>3.2</b> Kiểm tra lỗi chính tả, tình trạng danh pháp</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#nhóm-thực-vật"><i class="fa fa-check"></i><b>3.2.1</b> Nhóm Thực vật</a></li>
<li class="chapter" data-level="3.2.2" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#ví-dụ-với-gói-lệnh-rwcvp"><i class="fa fa-check"></i><b>3.2.2</b> Ví dụ với gói lệnh <code>rWCVP</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#danh-pháp-động-vật"><i class="fa fa-check"></i><b>3.2.3</b> Danh pháp động vật</a></li>
<li class="chapter" data-level="3.2.4" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#xem-thông-tin-về-loài"><i class="fa fa-check"></i><b>3.2.4</b> Xem thông tin về loài</a></li>
<li class="chapter" data-level="3.2.5" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#tìm-các-cấp-phân-loại-từ-tên-loài"><i class="fa fa-check"></i><b>3.2.5</b> Tìm các cấp phân loại từ tên loài</a></li>
<li class="chapter" data-level="3.2.6" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#xem-danh-sách-các-tên-đồng-danh-của-một-loài-với-bộ-dữ-liệu-eol"><i class="fa fa-check"></i><b>3.2.6</b> Xem danh sách các tên đồng danh của một loài với bộ dữ liệu EOL</a></li>
<li class="chapter" data-level="3.2.7" data-path="xử-lý-danh-pháp.html"><a href="xử-lý-danh-pháp.html#xem-danh-sách-tất-cả-các-taxa-con-của-một-taxon"><i class="fa fa-check"></i><b>3.2.7</b> Xem danh sách tất cả các taxa con của một taxon</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="bandocoban.html"><a href="bandocoban.html"><i class="fa fa-check"></i><b>4</b> Thao tác cơ bản với tập tin bản đồ</a>
<ul>
<li class="chapter" data-level="4.1" data-path="bandocoban.html"><a href="bandocoban.html#tập-tin-vector"><i class="fa fa-check"></i><b>4.1</b> Tập tin vector</a></li>
<li class="chapter" data-level="4.2" data-path="bandocoban.html"><a href="bandocoban.html#tập-tin-dạng-raster"><i class="fa fa-check"></i><b>4.2</b> Tập tin dạng raster</a></li>
<li class="chapter" data-level="4.3" data-path="bandocoban.html"><a href="bandocoban.html#biên-tập-bản-đồ-với-gói-lệnh-ggplot-và-ggspatial"><i class="fa fa-check"></i><b>4.3</b> Biên tập bản đồ với gói lệnh <code>ggplot</code> và <code>ggspatial</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><i class="fa fa-check"></i><b>5</b> Tạo sơ đồ độ giàu loài ở khu vực khảo sát</a>
<ul>
<li class="chapter" data-level="5.1" data-path="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#tạo-sơ-đồ-vị-trí-ghi-nhận-từ-dữ-liệu-sơn-trà"><i class="fa fa-check"></i><b>5.1</b> Tạo sơ đồ vị trí ghi nhận từ dữ liệu Sơn Trà</a></li>
<li class="chapter" data-level="5.2" data-path="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#tạo-sơ-đồ-độ-giàu-loài"><i class="fa fa-check"></i><b>5.2</b> Tạo sơ đồ độ giàu loài</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#tạo-lưới-có-kích-thước-1km-với-lệnh-st_make_grid."><i class="fa fa-check"></i><b>5.2.1</b> Tạo lưới có kích thước 1km với lệnh <code>st_make_grid</code>.</a></li>
<li class="chapter" data-level="5.2.2" data-path="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#đếm-số-lượng-loài-ghi-nhận-trong-từng-ô-lưới."><i class="fa fa-check"></i><b>5.2.2</b> Đếm số lượng loài ghi nhận trong từng ô lưới.</a></li>
<li class="chapter" data-level="5.2.3" data-path="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html"><a href="tạo-sơ-đồ-độ-giàu-loài-ở-khu-vực-khảo-sát.html#trình-bày-sơ-đồ-hoàn-chỉnh"><i class="fa fa-check"></i><b>5.2.3</b> Trình bày sơ đồ hoàn chỉnh</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html"><a href="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html"><i class="fa fa-check"></i><b>6</b> Tải ghi nhận loài từ dữ liệu GBIF</a>
<ul>
<li class="chapter" data-level="6.1" data-path="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html"><a href="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html#tải-ghi-nhận"><i class="fa fa-check"></i><b>6.1</b> Tải ghi nhận</a></li>
<li class="chapter" data-level="6.2" data-path="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html"><a href="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html#tạo-sơ-đồ-vị-trí-ghi-nhận"><i class="fa fa-check"></i><b>6.2</b> Tạo sơ đồ vị trí ghi nhận</a></li>
<li class="chapter" data-level="6.3" data-path="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html"><a href="tải-ghi-nhận-loài-từ-dữ-liệu-gbif.html#xuất-dữ-liệu-sang-excel"><i class="fa fa-check"></i><b>6.3</b> Xuất dữ liệu sang Excel</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dự-đoán-vùng-phân-bố-loài.html"><a href="dự-đoán-vùng-phân-bố-loài.html"><i class="fa fa-check"></i><b>7</b> Dự đoán vùng phân bố loài</a>
<ul>
<li class="chapter" data-level="7.1" data-path="dự-đoán-vùng-phân-bố-loài.html"><a href="dự-đoán-vùng-phân-bố-loài.html#lấy-dữ-liệu-ghi-nhận-loài-gõ-đỏ-afzelia-xylocarpa-từ-gbif"><i class="fa fa-check"></i><b>7.1</b> Lấy dữ liệu ghi nhận loài Gõ đỏ (<em>Afzelia xylocarpa</em>) từ GBIF</a></li>
<li class="chapter" data-level="7.2" data-path="dự-đoán-vùng-phân-bố-loài.html"><a href="dự-đoán-vùng-phân-bố-loài.html#xem-sơ-đồ-phân-bố-các-ghi-nhận"><i class="fa fa-check"></i><b>7.2</b> Xem sơ đồ phân bố các ghi nhận</a></li>
<li class="chapter" data-level="7.3" data-path="dự-đoán-vùng-phân-bố-loài.html"><a href="dự-đoán-vùng-phân-bố-loài.html#chạy-mô-phỏng-maxent"><i class="fa fa-check"></i><b>7.3</b> Chạy mô phỏng Maxent</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html"><a href="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html"><i class="fa fa-check"></i><b>8</b> Tính chỉ số đa dạng sinh học và loài quan trọng trong ô định vị</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html"><a href="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html#tạo-dữ-liệu-giả-lập"><i class="fa fa-check"></i><b>8.1</b> Tạo dữ liệu giả lập</a></li>
<li class="chapter" data-level="8.2" data-path="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html"><a href="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html#phân-tích"><i class="fa fa-check"></i><b>8.2</b> Phân tích</a></li>
<li class="chapter" data-level="8.3" data-path="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html"><a href="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html#chỉ-số-đa-dạng-sinh-học"><i class="fa fa-check"></i><b>8.3</b> Chỉ số đa dạng sinh học</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html"><a href="tính-chỉ-số-đa-dạng-sinh-học-và-loài-quan-trọng-trong-ô-định-vị.html#tính-chỉ-số-ivi"><i class="fa fa-check"></i><b>8.3.1</b> Tính chỉ số IVI</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Phân tích dữ liệu sinh thái học cơ bản với R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="xử-lý-danh-pháp" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Phần 3</span> Xử lý danh pháp<a href="xử-lý-danh-pháp.html#xử-lý-danh-pháp" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Trong công tác kiểm kê số lượng loài trong một danh lục, thông thường chúng ta sẽ căn cứ vào trường thông tin chứa danh pháp khoa học của loài để xác định. Tuy nhiên đối với một danh sách dài, được tổng hợp từ nhiều nguồn thông tin, thường sẽ tồn tại các lỗi chính tả và danh pháp đồng danh ở cột danh pháp loài. Để kết quả kiểm đếm được chính xác, chúng ta cần phải thực hiện thao tác làm sạch dữ liệu về danh pháp trước như sau:</p>
<div id="tách-phần-tên-khoa-học-và-tên-tác-giả" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Tách phần tên khoa học và tên tác giả<a href="xử-lý-danh-pháp.html#tách-phần-tên-khoa-học-và-tên-tác-giả" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Sử dụng lệnh <code>WFO.prepare()</code> trong gói lệnh `<code>WorldFlora</code>` để tách phần tên tác giả và tên loài.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="xử-lý-danh-pháp.html#cb79-1" tabindex="-1"></a><span class="fu">library</span>(WorldFlora)</span>
<span id="cb79-2"><a href="xử-lý-danh-pháp.html#cb79-2" tabindex="-1"></a>mysp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Afzelia javanica (Miq.) J.Leonard (**) (In review)&quot;</span>, </span>
<span id="cb79-3"><a href="xử-lý-danh-pháp.html#cb79-3" tabindex="-1"></a>          <span class="st">&quot;Sorbus aucuparia subsp. praemorsa (Guss.) Nyman&quot;</span>)</span>
<span id="cb79-4"><a href="xử-lý-danh-pháp.html#cb79-4" tabindex="-1"></a>mysp.prepare <span class="ot">&lt;-</span> mysp <span class="sc">%&gt;%</span> </span>
<span id="cb79-5"><a href="xử-lý-danh-pháp.html#cb79-5" tabindex="-1"></a>  <span class="fu">WFO.prepare</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb79-6"><a href="xử-lý-danh-pháp.html#cb79-6" tabindex="-1"></a>  <span class="fu">select</span>(spec.full, spec.name, Authorship)</span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-ec3fd1e574921c5c45a0" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ec3fd1e574921c5c45a0">{"x":{"filter":"none","vertical":false,"data":[["1","2"],["Afzelia javanica (Miq.) J.Leonard (**) (In review)","Sorbus aucuparia subsp. praemorsa (Guss.) Nyman"],["Afzelia javanica","Sorbus aucuparia subsp. praemorsa"],["(Miq.) J.Leonard","(Guss.) Nyman"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>spec.full<\/th>\n      <th>spec.name<\/th>\n      <th>Authorship<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"spec.full","targets":1},{"name":"spec.name","targets":2},{"name":"Authorship","targets":3}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="kiểm-tra-lỗi-chính-tả-tình-trạng-danh-pháp" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Kiểm tra lỗi chính tả, tình trạng danh pháp<a href="xử-lý-danh-pháp.html#kiểm-tra-lỗi-chính-tả-tình-trạng-danh-pháp" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="nhóm-thực-vật" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Nhóm Thực vật<a href="xử-lý-danh-pháp.html#nhóm-thực-vật" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Đối với các loài thực vật, chúng ta có thể sử dụng một số gói lệnh như <code>rWCVP</code> hay <code>WorldFlora</code> để kiểm tra tình trạng danh pháp của loài về tính chính xác, lỗi chính tả hay sự đồng danh, … Gói lệnh <code>rWCVP</code> sẽ tra cứu từ bộ dữ liệu <a href="https://powo.science.kew.org/">POWO (powo.science.kew.org)</a>, còn gói <code>WorldFlora</code> sẽ căn cứ từ bộ dữ liệu tại <a href="http://www.worldfloraonline.org/">Plants of the World Online (www.worldfloraonline.org)</a></p>
</div>
<div id="ví-dụ-với-gói-lệnh-rwcvp" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Ví dụ với gói lệnh <code>rWCVP</code><a href="xử-lý-danh-pháp.html#ví-dụ-với-gói-lệnh-rwcvp" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Chúng ta có danh sách gồm 4 danh pháp với các trường hợp sau:</p>
<ol style="list-style-type: decimal">
<li>Afzelia xylocarpa : Danh pháp chính xác và hiện được chấp nhận</li>
<li>Afzelia xylocarppa : Danh pháp sai lỗi chính tả (dư 1 ký tự p ở phần tên loài)</li>
<li>Afzellia xylocarppa : Danh pháp sai lỗi chính tả (dư 1 ký tự l ở phần tên chi và 1 ký tự p ở phần tên loài)</li>
<li>Afzelia cochinchinensis: Danh pháp đúng, nhưng hiện được xếp là đồng danh</li>
</ol>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="xử-lý-danh-pháp.html#cb80-1" tabindex="-1"></a><span class="fu">library</span>(rWCVP)</span>
<span id="cb80-2"><a href="xử-lý-danh-pháp.html#cb80-2" tabindex="-1"></a><span class="co"># danh sách danh pháp cần kiểm tra</span></span>
<span id="cb80-3"><a href="xử-lý-danh-pháp.html#cb80-3" tabindex="-1"></a>mysp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Afzelia xylocarpa&quot;</span>,<span class="st">&quot;Afzelia xylocarppa&quot;</span>,<span class="st">&quot;Afzellia xylocarppa&quot;</span>,<span class="st">&quot;Afzelia cochinchinensis&quot;</span>)</span>
<span id="cb80-4"><a href="xử-lý-danh-pháp.html#cb80-4" tabindex="-1"></a><span class="co"># chuyển sang dạng data.frame</span></span>
<span id="cb80-5"><a href="xử-lý-danh-pháp.html#cb80-5" tabindex="-1"></a>mydf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(mysp)</span>
<span id="cb80-6"><a href="xử-lý-danh-pháp.html#cb80-6" tabindex="-1"></a><span class="co"># kiểm tra danh pháp với tham số fuzzy cho việc dò lỗi chính tả</span></span>
<span id="cb80-7"><a href="xử-lý-danh-pháp.html#cb80-7" tabindex="-1"></a>matches <span class="ot">&lt;-</span> <span class="fu">wcvp_match_names</span>(mydf,</span>
<span id="cb80-8"><a href="xử-lý-danh-pháp.html#cb80-8" tabindex="-1"></a>                            <span class="at">name_col=</span><span class="st">&quot;mysp&quot;</span>,</span>
<span id="cb80-9"><a href="xử-lý-danh-pháp.html#cb80-9" tabindex="-1"></a>                            <span class="at">fuzzy=</span><span class="cn">TRUE</span>,</span>
<span id="cb80-10"><a href="xử-lý-danh-pháp.html#cb80-10" tabindex="-1"></a>                            <span class="at">progress_bar=</span>F)</span></code></pre></div>
<p>Kết quả trả về như bảng sau. Trong đó cột <code>match_type</code> cho thấy danh pháp thứ 1 và thứ 4 được tìm chính xác “Exact”, còn danh pháp thứ 2 và 3 được tìm thấy với dạng gần đúng “Fuzzy”. Bên cạnh đó thông tin tại cột <code>wcvp_status</code> cho thấy danh pháp thứ 4 hiện là đồng danh và cột <code>wcvp_accepted_id</code> sẽ cho biết mã danh pháp hiện được chấp nhận của danh pháp này. Trường hợp này chúng ta có mã danh pháp đúng là ‘2625015’.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="xử-lý-danh-pháp.html#cb81-1" tabindex="-1"></a>matches <span class="sc">|&gt;</span> </span>
<span id="cb81-2"><a href="xử-lý-danh-pháp.html#cb81-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(mysp,match_type,wcvp_id,wcvp_name,wcvp_authors,wcvp_status, wcvp_accepted_id)<span class="sc">|&gt;</span> <span class="fu">b_show_df</span>(output)</span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-1f0f6f44b4e741aacfad" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1f0f6f44b4e741aacfad">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],["Afzelia xylocarpa","Afzelia xylocarppa","Afzellia xylocarppa","Afzelia cochinchinensis"],["Exact (without author)","Fuzzy (edit distance)","Fuzzy (edit distance)","Exact (without author)"],[2625015,2625015,2625015,2624976],["Afzelia xylocarpa","Afzelia xylocarpa","Afzelia xylocarpa","Afzelia cochinchinensis"],["(Kurz) Craib","(Kurz) Craib","(Kurz) Craib","(Pierre) J.Léonard"],["Accepted","Accepted","Accepted","Synonym"],[2625015,2625015,2625015,2625015]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>mysp<\/th>\n      <th>match_type<\/th>\n      <th>wcvp_id<\/th>\n      <th>wcvp_name<\/th>\n      <th>wcvp_authors<\/th>\n      <th>wcvp_status<\/th>\n      <th>wcvp_accepted_id<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,7]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"mysp","targets":1},{"name":"match_type","targets":2},{"name":"wcvp_id","targets":3},{"name":"wcvp_name","targets":4},{"name":"wcvp_authors","targets":5},{"name":"wcvp_status","targets":6},{"name":"wcvp_accepted_id","targets":7}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
<p>Để biết danh pháp khoa học của mã ‘2625015’, chúng ta có thể tra cứu trong bộ dữ liệu <code>wcvp_names</code>.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="xử-lý-danh-pháp.html#cb82-1" tabindex="-1"></a><span class="co">#remotes::install_github(&#39;matildabrown/rWCVPdata&#39;)</span></span>
<span id="cb82-2"><a href="xử-lý-danh-pháp.html#cb82-2" tabindex="-1"></a><span class="fu">library</span>(rWCVPdata)</span>
<span id="cb82-3"><a href="xử-lý-danh-pháp.html#cb82-3" tabindex="-1"></a>wcvp_names <span class="sc">|&gt;</span> <span class="fu">filter</span>(plant_name_id<span class="sc">==</span><span class="st">&#39;2625015&#39;</span>) <span class="sc">|&gt;</span> <span class="fu">t</span>()</span></code></pre></div>
<pre><code>##                         [,1]                     
## plant_name_id           &quot;2625015&quot;                
## ipni_id                 &quot;473084-1&quot;               
## taxon_rank              &quot;Species&quot;                
## taxon_status            &quot;Accepted&quot;               
## family                  &quot;Fabaceae&quot;               
## genus_hybrid            NA                       
## genus                   &quot;Afzelia&quot;                
## species_hybrid          NA                       
## species                 &quot;xylocarpa&quot;              
## infraspecific_rank      NA                       
## infraspecies            NA                       
## parenthetical_author    &quot;Kurz&quot;                   
## primary_author          &quot;Craib&quot;                  
## publication_author      NA                       
## place_of_publication    &quot;Bull. Misc. Inform. Kew&quot;
## volume_and_page         &quot; 1912: 267&quot;             
## first_published         &quot;(1912)&quot;                 
## nomenclatural_remarks   NA                       
## geographic_area         &quot;Indo-China&quot;             
## lifeform_description    &quot;tree&quot;                   
## climate_description     &quot;wet tropical&quot;           
## taxon_name              &quot;Afzelia xylocarpa&quot;      
## taxon_authors           &quot;(Kurz) Craib&quot;           
## accepted_plant_name_id  &quot;2625015&quot;                
## basionym_plant_name_id  &quot;2531801&quot;                
## replaced_synonym_author NA                       
## homotypic_synonym       NA                       
## parent_plant_name_id    &quot;2624953&quot;                
## powo_id                 &quot;473084-1&quot;               
## hybrid_formula          NA                       
## reviewed                &quot;Y&quot;</code></pre>
</div>
<div id="danh-pháp-động-vật" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Danh pháp động vật<a href="xử-lý-danh-pháp.html#danh-pháp-động-vật" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Hiện tại có rất nhiều bộ dữ liệu khác nhau về danh pháp khoa học cho các loài động vật tuỳ thuộc nhóm nhỏ như Chim, Thú, Cá… Gói lệnh <code>taxize</code> sẽ hỗ trợ việc kiểm tra danh pháp từ nhiều bộ dữ liệu.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="xử-lý-danh-pháp.html#cb84-1" tabindex="-1"></a><span class="fu">library</span>(taxize)</span></code></pre></div>
<p>Đầu tiên ta cần xác định mã ID của nguồn dữ liệu cần dùng để tra cứu trong danh sách các nguồn được hỗ trợ của gói lệnh. Sử dụng lệnh <code>gnr_datasources()</code> để xem danh sách các nguồn. Tùy nhóm đối tượng nghiên cứu chúng ta sẽ chọn nguồn dữ liệu thích hợp.</p>
<p>Trong ví dụ này chúng ta sẽ chọn nguồn tham khảo là ‘Integrated Taxonomic Information SystemITIS’</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="xử-lý-danh-pháp.html#cb85-1" tabindex="-1"></a><span class="co"># Lấy mã ID của bộ nguồn</span></span>
<span id="cb85-2"><a href="xử-lý-danh-pháp.html#cb85-2" tabindex="-1"></a>ITIS <span class="ot">&lt;-</span> <span class="fu">gnr_datasources</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb85-3"><a href="xử-lý-danh-pháp.html#cb85-3" tabindex="-1"></a>  <span class="fu">filter</span>(title <span class="sc">==</span> <span class="st">&#39;Integrated Taxonomic Information SystemITIS&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb85-4"><a href="xử-lý-danh-pháp.html#cb85-4" tabindex="-1"></a>  .<span class="sc">$</span>id</span></code></pre></div>
<div id="kiểm-tra-lỗi-chính-tả" class="section level4 hasAnchor" number="3.2.3.1">
<h4><span class="header-section-number">3.2.3.1</span> Kiểm tra lỗi chính tả<a href="xử-lý-danh-pháp.html#kiểm-tra-lỗi-chính-tả" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Chúng ta có một danh lục ví dụ gồm 5 loài, trong đó loài <em>Sus scroffa</em> bị sai lỗi chính tả ở chữ ‘f.’ Sử dụng lệnh <code>gnr_resolve()</code> để kiểm tra danh pháp với bộ dữ liệu ITIS. Sử dụng tham số <code>canonical = TRUE</code> sẽ trả về tên khoa học đúng và không chứa phần tên tác giả. Nếu chúng ta cần cả phần tên tác giả thì để giá trị là <code>FALSE</code>.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="xử-lý-danh-pháp.html#cb86-1" tabindex="-1"></a>mysp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Herpestes javanicus&quot;</span>, <span class="st">&quot;Sus domesticus&quot;</span>, <span class="st">&quot;Sus scroffa&quot;</span>, </span>
<span id="cb86-2"><a href="xử-lý-danh-pháp.html#cb86-2" tabindex="-1"></a>          <span class="st">&quot;Actitis hypoleucos&quot;</span>,<span class="st">&quot;Tringa hypoleucos&quot;</span>)</span>
<span id="cb86-3"><a href="xử-lý-danh-pháp.html#cb86-3" tabindex="-1"></a></span>
<span id="cb86-4"><a href="xử-lý-danh-pháp.html#cb86-4" tabindex="-1"></a>mysp_checked <span class="ot">&lt;-</span> <span class="fu">gnr_resolve</span>(<span class="at">sci =</span> mysp, <span class="at">data_source_ids =</span> ITIS , <span class="at">canonical =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb86-5"><a href="xử-lý-danh-pháp.html#cb86-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(submitted_name, matched_name2)</span>
<span id="cb86-6"><a href="xử-lý-danh-pháp.html#cb86-6" tabindex="-1"></a></span>
<span id="cb86-7"><a href="xử-lý-danh-pháp.html#cb86-7" tabindex="-1"></a>mysp_checked</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##   submitted_name      matched_name2      
##   &lt;chr&gt;               &lt;chr&gt;              
## 1 Herpestes javanicus Herpestes javanicus
## 2 Sus domesticus      Sus domesticus     
## 3 Sus scroffa         Sus scrofa         
## 4 Actitis hypoleucos  Actitis hypoleucos 
## 5 Tringa hypoleucos   Tringa hypoleucos</code></pre>
<p>Kết quả cả 5 loài đều được tìm thấy trong dữ liệu tra cứu. Và loài <em>Sus scroffa</em> đã được sửa lỗi chính tả với tên đúng <em>Sus scrofa</em></p>
</div>
<div id="kiểm-tra-sự-đồng-danh" class="section level4 hasAnchor" number="3.2.3.2">
<h4><span class="header-section-number">3.2.3.2</span> Kiểm tra sự đồng danh<a href="xử-lý-danh-pháp.html#kiểm-tra-sự-đồng-danh" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Ta sử dụng lệnh <code>get_tsn()</code> để lấy mã id của loài đã được kiểm tra ở bước trên (cột <code>matched_name2</code>) trong bộ dữ liệu.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="xử-lý-danh-pháp.html#cb88-1" tabindex="-1"></a>mysp_checked <span class="ot">&lt;-</span> mysp_checked <span class="sc">|&gt;</span> </span>
<span id="cb88-2"><a href="xử-lý-danh-pháp.html#cb88-2" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">get_tsn</span>(matched_name2) <span class="sc">|&gt;</span> <span class="fu">as.character</span>())</span></code></pre></div>
<pre><code>## ══  5 queries  ═══════════════
## ✔  Found:  Herpestes javanicus
## ✔  Found:  Sus domesticus
## ✔  Found:  Sus scrofa
## ✔  Found:  Actitis hypoleucos
## ✔  Found:  Tringa hypoleucos
## ══  Results  ═════════════════
## 
## • Total: 5 
## • Found: 5 
## • Not Found: 0</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="xử-lý-danh-pháp.html#cb90-1" tabindex="-1"></a>mysp_checked</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##   submitted_name      matched_name2       id    
##   &lt;chr&gt;               &lt;chr&gt;               &lt;chr&gt; 
## 1 Herpestes javanicus Herpestes javanicus 552467
## 2 Sus domesticus      Sus domesticus      898265
## 3 Sus scroffa         Sus scrofa          180722
## 4 Actitis hypoleucos  Actitis hypoleucos  176613
## 5 Tringa hypoleucos   Tringa hypoleucos   176625</code></pre>
<p>Sau khi đã có mã id của danh pháp, ta có thể sử dụng lệnh id2name() để xem tình trạng danh pháp có hiệu lực hay không.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="xử-lý-danh-pháp.html#cb92-1" tabindex="-1"></a>check_status <span class="ot">&lt;-</span> <span class="fu">id2name</span>(mysp_checked<span class="sc">$</span>id, <span class="at">db =</span> <span class="st">&quot;itis&quot;</span>)</span>
<span id="cb92-2"><a href="xử-lý-danh-pháp.html#cb92-2" tabindex="-1"></a><span class="fu">do.call</span>(rbind, check_status )</span></code></pre></div>
<pre><code>##            id                name    rank  status parent_tsn
## 552467 552467 Herpestes javanicus Species invalid          0
## 898265 898265      Sus domesticus Species invalid          0
## 180722 180722          Sus scrofa Species   valid     180721
## 176613 176613  Actitis hypoleucos Species   valid     176611
## 176625 176625   Tringa hypoleucos Species invalid          0</code></pre>
<p>Cột status cho thấy có 2 tên loài trong danh pháp không còn hiệu lực. Đây có thể là tên đồng danh. Chúng ta dùng lệnh <code>itis_acceptname()</code> để kiểm tra danh sách tên loài này có chứa tên đồng danh hay không dựa trên cột id. Nếu là tên đồng danh thì lệnh sẽ trả về tên được chấp nhận ở cột <code>acceptedname</code>.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="xử-lý-danh-pháp.html#cb94-1" tabindex="-1"></a>check_syn <span class="ot">&lt;-</span> <span class="fu">itis_acceptname</span>(<span class="at">searchtsn =</span> mysp_checked<span class="sc">$</span>id)</span>
<span id="cb94-2"><a href="xử-lý-danh-pháp.html#cb94-2" tabindex="-1"></a>check_syn</span></code></pre></div>
<pre><code>##   submittedtsn       acceptedname acceptedtsn                            author
## 1       552467      Urva javanica     1229753 (É. Geoffroy Saint-Hilaire, 1818)
## 2       898265         Sus scrofa      180722                    Linnaeus, 1758
## 3       180722               &lt;NA&gt;      180722                              &lt;NA&gt;
## 4       176613               &lt;NA&gt;      176613                              &lt;NA&gt;
## 5       176625 Actitis hypoleucos      176613                  (Linnaeus, 1758)</code></pre>
<p>Kết quả ta thấy có 3 tên đồng danh trong danh lục. Chúng ta có thể ghép kết quả này vào bảng <code>mysp_checked</code> bằng lệnh <code>left_join()</code> như sau</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="xử-lý-danh-pháp.html#cb96-1" tabindex="-1"></a>mysp_checked <span class="ot">&lt;-</span> mysp_checked <span class="sc">|&gt;</span> </span>
<span id="cb96-2"><a href="xử-lý-danh-pháp.html#cb96-2" tabindex="-1"></a>  <span class="fu">left_join</span>(check_syn, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span> <span class="ot">=</span> <span class="st">&quot;submittedtsn&quot;</span>))</span></code></pre></div>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="xử-lý-danh-pháp.html#cb97-1" tabindex="-1"></a>mysp_checked <span class="sc">|&gt;</span> <span class="fu">b_show_df</span>(output)</span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-e6ccf50374fe66337d2a" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e6ccf50374fe66337d2a">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5"],["Herpestes javanicus","Sus domesticus","Sus scroffa","Actitis hypoleucos","Tringa hypoleucos"],["Herpestes javanicus","Sus domesticus","Sus scrofa","Actitis hypoleucos","Tringa hypoleucos"],["552467","898265","180722","176613","176625"],["Urva javanica","Sus scrofa",null,null,"Actitis hypoleucos"],["1229753","180722","180722","176613","176613"],["(É. Geoffroy Saint-Hilaire, 1818)","Linnaeus, 1758",null,null,"(Linnaeus, 1758)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>submitted_name<\/th>\n      <th>matched_name2<\/th>\n      <th>id<\/th>\n      <th>acceptedname<\/th>\n      <th>acceptedtsn<\/th>\n      <th>author<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"submitted_name","targets":1},{"name":"matched_name2","targets":2},{"name":"id","targets":3},{"name":"acceptedname","targets":4},{"name":"acceptedtsn","targets":5},{"name":"author","targets":6}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="xem-thông-tin-về-loài" class="section level3 hasAnchor" number="3.2.4">
<h3><span class="header-section-number">3.2.4</span> Xem thông tin về loài<a href="xử-lý-danh-pháp.html#xem-thông-tin-về-loài" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Cột <code>acceptedtsn</code> ở bảng trên chứa mã id của tất cả danh pháp được chấp nhận. Từ cột này chúng ta có thể lấy tất cả các thông tin khác của loài với lệnh <code>itis_getrecord()</code></p>
<p>Ví dụ lấy thông tin về loài <em>Herpestes javanicus</em> có mã id là <code>552467</code></p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="xử-lý-danh-pháp.html#cb98-1" tabindex="-1"></a><span class="fu">itis_getrecord</span>(<span class="dv">552467</span>)</span></code></pre></div>
<p>Vì kết quả của hàm này rất dài nên không thể hiện ở đây. Các bạn có thể thực hành và xem kết quả trên máy tính của mình.</p>
<p>Chúng ta có thể viết một lệnh nhỏ chỉ để lấy phần tên loài và tên tác giả từ mã id như sau:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="xử-lý-danh-pháp.html#cb99-1" tabindex="-1"></a>itis_id2name_author <span class="ot">&lt;-</span> <span class="cf">function</span>(id){</span>
<span id="cb99-2"><a href="xử-lý-danh-pháp.html#cb99-2" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">itis_getrecord</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb99-3"><a href="xử-lý-danh-pháp.html#cb99-3" tabindex="-1"></a>    <span class="fu">lapply</span>(<span class="cf">function</span>(x) x<span class="sc">$</span>scientificName)</span>
<span id="cb99-4"><a href="xử-lý-danh-pháp.html#cb99-4" tabindex="-1"></a>  res <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">tsn =</span> <span class="fu">sapply</span>(df, <span class="cf">function</span>(x) x<span class="sc">$</span>tsn),</span>
<span id="cb99-5"><a href="xử-lý-danh-pháp.html#cb99-5" tabindex="-1"></a>                    <span class="at">combinedName =</span> <span class="fu">sapply</span>(df, <span class="cf">function</span>(x) x<span class="sc">$</span>combinedName),</span>
<span id="cb99-6"><a href="xử-lý-danh-pháp.html#cb99-6" tabindex="-1"></a>                    <span class="at">author =</span> <span class="fu">sapply</span>(df, <span class="cf">function</span>(x) x<span class="sc">$</span>author))</span>
<span id="cb99-7"><a href="xử-lý-danh-pháp.html#cb99-7" tabindex="-1"></a>  <span class="fu">return</span>(res)</span>
<span id="cb99-8"><a href="xử-lý-danh-pháp.html#cb99-8" tabindex="-1"></a>}</span>
<span id="cb99-9"><a href="xử-lý-danh-pháp.html#cb99-9" tabindex="-1"></a></span>
<span id="cb99-10"><a href="xử-lý-danh-pháp.html#cb99-10" tabindex="-1"></a>mysp_checked<span class="sc">$</span>acceptedtsn <span class="sc">|&gt;</span> </span>
<span id="cb99-11"><a href="xử-lý-danh-pháp.html#cb99-11" tabindex="-1"></a><span class="fu">unique</span>() <span class="sc">|&gt;</span> </span>
<span id="cb99-12"><a href="xử-lý-danh-pháp.html#cb99-12" tabindex="-1"></a><span class="fu">itis_id2name_author</span>()</span></code></pre></div>
<pre><code>##             tsn       combinedName                            author
## 1229753 1229753      Urva javanica (É. Geoffroy Saint-Hilaire, 1818)
## 180722   180722         Sus scrofa                    Linnaeus, 1758
## 176613   176613 Actitis hypoleucos                  (Linnaeus, 1758)</code></pre>
</div>
<div id="tìm-các-cấp-phân-loại-từ-tên-loài" class="section level3 hasAnchor" number="3.2.5">
<h3><span class="header-section-number">3.2.5</span> Tìm các cấp phân loại từ tên loài<a href="xử-lý-danh-pháp.html#tìm-các-cấp-phân-loại-từ-tên-loài" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sử dụng lệnh <code>tax_name()</code> để lấy thông tin các cấp phân loại liên quan đến loài. Nhập các cấp phân loại cần lấy thông tin vào tham số <code>get =</code>.</p>
<p>Lệnh này sử dụng hai nguồn dữ liệu tra cứu là ITIS và NCBI. Thay đổi tham số <code>db = itis</code> hoặc <code>ncbi</code> hoặc <code>both</code> để chọn nguồn dữ liệu cần tra.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="xử-lý-danh-pháp.html#cb101-1" tabindex="-1"></a>mysp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Herpestes javanicus&quot;</span>, <span class="st">&quot;Sus scrofa&quot;</span>, <span class="st">&quot;Actitis hypoleucos&quot;</span>) </span>
<span id="cb101-2"><a href="xử-lý-danh-pháp.html#cb101-2" tabindex="-1"></a><span class="fu">tax_name</span>(mysp, <span class="at">db =</span> <span class="st">&quot;itis&quot;</span>, <span class="at">get =</span> <span class="fu">c</span>(<span class="st">&quot;genus&quot;</span>,<span class="st">&quot;family&quot;</span>,<span class="st">&quot;order&quot;</span>,<span class="st">&quot;class&quot;</span>,<span class="st">&quot;kingdom&quot;</span>), <span class="at">messages =</span> F)</span></code></pre></div>
<pre><code>##     db               query   genus       family           order    class
## 1 itis Herpestes javanicus    &lt;NA&gt;         &lt;NA&gt;            &lt;NA&gt;     &lt;NA&gt;
## 2 itis          Sus scrofa     Sus       Suidae    Artiodactyla Mammalia
## 3 itis  Actitis hypoleucos Actitis Scolopacidae Charadriiformes     Aves
##    kingdom
## 1     &lt;NA&gt;
## 2 Animalia
## 3 Animalia</code></pre>
<p>Danh sách các cấp phân loại trong dữ liệu gồm</p>
<pre><code>## [1] &quot;domain, superkingdom, kingdom, subkingdom, infrakingdom,superphylum, phylum,division, subphylum,subdivision, infradivision, superclass, class, subclass, infraclass, subterclass, parvclass, megacohort, supercohort, cohort, subcohort, infracohort, superorder, order, suborder, infraorder, parvorder, superfamily, family, subfamily, supertribe, tribe, subtribe, genus, subgenus, section, subsection, species group,series, species subgroup, species, infraspecies, subspecies,forma specialis, variety,varietas, subvariety,race, stirp, form,forma,morph, subform, biotype,isolate,pathogroup,serogroup,serotype,strain,aberration, unspecified,no rank,unranked,clade&quot;</code></pre>
</div>
<div id="xem-danh-sách-các-tên-đồng-danh-của-một-loài-với-bộ-dữ-liệu-eol" class="section level3 hasAnchor" number="3.2.6">
<h3><span class="header-section-number">3.2.6</span> Xem danh sách các tên đồng danh của một loài với bộ dữ liệu EOL<a href="xử-lý-danh-pháp.html#xem-danh-sách-các-tên-đồng-danh-của-một-loài-với-bộ-dữ-liệu-eol" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>EOL - <a href="https://www.eol.org/">Encyclopedia of Life</a> là bộ dữ liệu về sự sống trên toàn trái đất.</p>
<p>Sử dụng lệnh <code>eol_search()</code> để lấy thông tin ID của loài cần kiểm tra trong bộ dữ liệu EOL. Sau đó sử dụng lệnh <code>eol_pages()</code> để lấy danh sách các tên loài đồng danh của loài.</p>
<p>Ví dụ: Lấy danh sách tên đồng danh của <em>Fejervarya limnocharis</em></p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="xử-lý-danh-pháp.html#cb104-1" tabindex="-1"></a><span class="co"># Xác định ID</span></span>
<span id="cb104-2"><a href="xử-lý-danh-pháp.html#cb104-2" tabindex="-1"></a>taxonID <span class="ot">&lt;-</span> <span class="fu">eol_search</span>(<span class="at">sci=</span><span class="st">&#39;Fejervarya limnocharis&#39;</span>)</span>
<span id="cb104-3"><a href="xử-lý-danh-pháp.html#cb104-3" tabindex="-1"></a><span class="co"># lấy thông tin</span></span>
<span id="cb104-4"><a href="xử-lý-danh-pháp.html#cb104-4" tabindex="-1"></a>sp_syn <span class="ot">&lt;-</span> <span class="fu">eol_pages</span>(<span class="at">taxonconceptID =</span> taxonID<span class="sc">$</span>pageid[<span class="dv">1</span>], <span class="at">synonyms =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>Kết quả trả về là dạng list. Danh sách các danh pháp đồng danh được lưu vào bảng <code>synonyms</code>. Nhập <code>sp_syn$synonyms</code> để xem:</p>
<div class="datatables html-widget html-fill-item" id="htmlwidget-87270d49e04c59deeac4" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-87270d49e04c59deeac4">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136"],["Dicroglossus limnocharis","Dicroglossus limnocharis (Gravenhorst, 1829)","Dicroglossus limnocharis (Gravenhorst, 1829)","Dicroglossus limnocharis (Gravenhorst, 1829)","Dicroglossus limnocharis (Gravenhorst, 1829)","Dicroglossus limnocharis Deckert, 1938","Euphlyctis limnocharis","Euphlyctis limnocharis","Euphlyctis limnocharis (Gravenhorst, 1829)","Euphlyctis limnocharis (Gravenhorst, 1829)","Euphlyctis limnocharis (Gravenhorst, 1829)","Euphlyctis limnocharis (Gravenhorst, 1829)","Euphlyctis limnocharis Poynton and Broadley, 1985","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis","Fejervarya limnocharis (Gravenhorst 1829) Gravenhorst 1829","Fejervarya limnocharis (Gravenhorst, 1829)","Fejervarya limnocharis (Gravenhorst, 1829)","Fejervarya limnocharis (Gravenhorst, 1829)","Fejervarya limnocharis (Gravenhorst, 1829)","Fejervarya limnocharis (Gravenhorst, 1829)","Fejervarya limnocharis (Gravenhorst, 1829)","Fejervarya limnocharis (Gravenhorst, 1829)","Fejervarya limnocharis (Gravenhorst, 1829)","Fejervarya limnocharis (Gravenhorst, 1829)","Fejervarya limnocharis (Gravenhorst, 1829)","Fejervarya wasl","Fejervarya wasl (Annandale, 1917)","Fejervarya wasl (Annandale, 1917)","Fejervarya wasl (Annandale, 1917)","Fejervarya wasl (Annandale, 1917)","Fejervarya wasl Fei, Ye, Jiang, and Xie, 2002","Limnonectes (Fejervarya) limnocharis","Limnonectes (Fejervarya) limnocharis Dubois, 1987","Limnonectes limnocharis","Limnonectes limnocharis (Gravenhorst, 1829)","Limnonectes limnocharis (Gravenhorst, 1829)","Limnonectes limnocharis (Gravenhorst, 1829)","Limnonectes limnocharis (Gravenhorst, 1829)","Rana (Euphlyctis) limnocharis","Rana (Euphlyctis) limnocharis Dubois, 1980","Rana (Euphlyctis) limnocharis Dubois, 1981","Rana (Fejervarya) limnocharis","Rana (Fejervarya) limnocharis Bolkay, 1915","Rana (Fejervarya) limnocharis Dubois, 1984","Rana (Rana) limnocharis","Rana (Rana) limnocharis Boulenger, 1920","Rana (Rana) limnocharis Nakamura and Ueno, 1963","Rana gracilis Bourret, 1927","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis","Rana limnocharis Gravenhorst, 1829","Rana limnocharis Gravenhorst, 1829","Rana limnocharis Gravenhorst, 1829","Rana limnocharis Gravenhorst, 1829","Rana limnocharis Gravenhorst, 1829","Rana limnocharis Gravenhorst, 1829","Rana limnocharis Gravenhorst, 1829","Rana limnocharis Wiegmann, 1834","Rana limnocharis Wiegmann, 1834","Rana limnocharis limnocharis","Rana limnocharis limnocharis Gravenhorst, 1829","Rana limnocharis limnocharis Gravenhorst, 1829","Rana limnocharis limnocharis Gravenhorst, 1829","Rana limnocharis limnocharis Gravenhorst, 1829","Rana limnocharis limnocharis Mertens, 1930","Rana lymnocharis","Rana lymnocharis Gravenhorst, 1829","Rana lymnocharis Gravenhorst, 1829","Rana lymnocharis Gravenhorst, 1829","Rana lymnocharis Gravenhorst, 1829","Rana lymnocharis Stoliczka, 1872","Rana wasl Annandale, 1917","Rana wasl Annandale, 1917","Rana wasl Annandale, 1917","Rana wasl Annandale, 1917","Rana wasl Annandale, 1917","Rana wasl Annandale, 1917"],["synonym","not accepted","synonym","invalid","not accepted","synonym","synonym","synonym","not accepted","synonym","invalid","not accepted","synonym","preferred","preferred","preferred","preferred","preferred","preferred","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","preferred","preferred","accepted","accepted","accepted","accepted","accepted","valid","accepted","accepted","synonym","not accepted","synonym","invalid","not accepted","synonym","synonym","synonym","synonym","not accepted","synonym","invalid","not accepted","synonym","synonym","synonym","synonym","synonym","synonym","synonym","synonym","synonym","synonym","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","accepted","synonym","accepted","accepted","accepted","synonym","synonym","accepted","not accepted","synonym","invalid","not accepted","synonym","synonym","synonym","not accepted","synonym","invalid","not accepted","synonym","synonym","not accepted","synonym","invalid","not accepted","synonym","synonym","synonym","not accepted","synonym","invalid","not accepted"],["Frost Darrel R 2018 Amphibian Species of the World","EOL Dynamic Hierarchy April 2022","Catalogue of Life  26 March 2024","Integrated Taxonomic Information System (ITIS) Taxonomic Hierarchy","Dynamic Hierarchy Version 2.2.3 - Test","EOL Dynamic Hierarchy 1.1","Frost Darrel R 2018 Amphibian Species of the World","NCBI","EOL Dynamic Hierarchy April 2022","Catalogue of Life  26 March 2024","Integrated Taxonomic Information System (ITIS) Taxonomic Hierarchy","Dynamic Hierarchy Version 2.2.3 - Test","EOL Dynamic Hierarchy 1.1","CalPhotos","wikipedia 中文维基百科","wikipedia русскую Википедию","wikipedia VI","AmphibiaWeb distribution data","wikipedia UK","Bangladesh Species List","Cambodia Species List","China Species List","Guam Species List","Hong Kong Species List","India Species List","Laos Species List","Malaysia Species List","Myanmar Species List","Nepal Species List","Philippines Species List","Singapore Species List","Taiwan Species List","Thailand Species List","Sri Lanka Species List","Vietnam Species List","wikipedia ID","Japan Species List","wikipedia EU","Indonesia Species List","Indian Ocean Species List","North Pacific Species List","NCBI","Furui 2020","Wildfinder (WWF)","wikidata_hierarchy tar gz","wikipedia PT","wikipedia FR","Flickr Group","wikipedia EN","Wikidata Common Names","Wikimedia Commons","Barcode of Life Data Systems","AmphibiaWeb articles","Global Biotic Interactions","iNaturalist data coverage","Wikipedia (inferred records)","GGBN data coverage","TreatmentBank","EOL Dynamic Hierarchy 1.1","Frost Darrel R 2018 Amphibian Species of the World","GBIF classification","IUCN","EOL Dynamic Hierarchy April 2022","Catalogue of Life  26 March 2024","iNaturalist","Integrated Taxonomic Information System (ITIS) Taxonomic Hierarchy","GBIF data coverage","Dynamic Hierarchy Version 2.2.3 - Test","Frost Darrel R 2018 Amphibian Species of the World","EOL Dynamic Hierarchy April 2022","Catalogue of Life  26 March 2024","Integrated Taxonomic Information System (ITIS) Taxonomic Hierarchy","Dynamic Hierarchy Version 2.2.3 - Test","EOL Dynamic Hierarchy 1.1","Frost Darrel R 2018 Amphibian Species of the World","EOL Dynamic Hierarchy 1.1","NCBI","EOL Dynamic Hierarchy April 2022","Catalogue of Life  26 March 2024","Integrated Taxonomic Information System (ITIS) Taxonomic Hierarchy","Dynamic Hierarchy Version 2.2.3 - Test","Frost Darrel R 2018 Amphibian Species of the World","EOL Dynamic Hierarchy 1.1","EOL Dynamic Hierarchy 1.1","Frost Darrel R 2018 Amphibian Species of the World","EOL Dynamic Hierarchy 1.1","EOL Dynamic Hierarchy 1.1","Frost Darrel R 2018 Amphibian Species of the World","EOL Dynamic Hierarchy 1.1","EOL Dynamic Hierarchy 1.1","EOL Dynamic Hierarchy 1.1","Bangladesh Species List","Cambodia Species List","China Species List","India Species List","Malaysia Species List","Myanmar Species List","Nepal Species List","Philippines Species List","Taiwan Species List","Thailand Species List","Sri Lanka Species List","Vietnam Species List","Japan Species List","Indonesia Species List","NCBI","FAO Fishery Statistics","Wildfinder (WWF)","wikidata_hierarchy tar gz","EOL Dynamic Hierarchy 1.1","Frost Darrel R 2018 Amphibian Species of the World","GBIF classification","EOL Dynamic Hierarchy April 2022","Catalogue of Life  26 March 2024","Integrated Taxonomic Information System (ITIS) Taxonomic Hierarchy","Dynamic Hierarchy Version 2.2.3 - Test","EOL Dynamic Hierarchy 1.1","Frost Darrel R 2018 Amphibian Species of the World","Frost Darrel R 2018 Amphibian Species of the World","EOL Dynamic Hierarchy April 2022","Catalogue of Life  26 March 2024","Integrated Taxonomic Information System (ITIS) Taxonomic Hierarchy","Dynamic Hierarchy Version 2.2.3 - Test","EOL Dynamic Hierarchy 1.1","Frost Darrel R 2018 Amphibian Species of the World","EOL Dynamic Hierarchy April 2022","Catalogue of Life  26 March 2024","Integrated Taxonomic Information System (ITIS) Taxonomic Hierarchy","Dynamic Hierarchy Version 2.2.3 - Test","EOL Dynamic Hierarchy 1.1","EOL Dynamic Hierarchy 1.1","Frost Darrel R 2018 Amphibian Species of the World","EOL Dynamic Hierarchy April 2022","Catalogue of Life  26 March 2024","Integrated Taxonomic Information System (ITIS) Taxonomic Hierarchy","Dynamic Hierarchy Version 2.2.3 - Test"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>synonym<\/th>\n      <th>relationship<\/th>\n      <th>resource<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"synonym","targets":1},{"name":"relationship","targets":2},{"name":"resource","targets":3}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="xem-danh-sách-tất-cả-các-taxa-con-của-một-taxon" class="section level3 hasAnchor" number="3.2.7">
<h3><span class="header-section-number">3.2.7</span> Xem danh sách tất cả các taxa con của một taxon<a href="xử-lý-danh-pháp.html#xem-danh-sách-tất-cả-các-taxa-con-của-một-taxon" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sử dụng lệnh <code>downstream()</code> với tham số <code>downto =</code> để xác định cấp phân loại gần lấy danh sách. Thay đổi tham số <code>db =</code> với bộ dữ liệu cần tra cứu: <code>itis</code>, <code>gbif</code>, <code>ncbi</code>, <code>worms</code>, hoặc <code>bold</code></p>
<p>Ví dụ lấy danh sách chi của họ <strong>Suidae</strong></p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="xử-lý-danh-pháp.html#cb105-1" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">downstream</span>(<span class="st">&#39;Suidae&#39;</span>, <span class="at">db=</span><span class="st">&quot;itis&quot;</span>, <span class="at">downto=</span><span class="st">&quot;genus&quot;</span>)</span></code></pre></div>
<pre><code>## ══  1 queries  ═══════════════
## ✔  Found:  Suidae
## ══  Results  ═════════════════
## 
## • Total: 1 
## • Found: 1 
## • Not Found: 0</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="xử-lý-danh-pháp.html#cb107-1" tabindex="-1"></a>res<span class="sc">$</span>Suidae</span></code></pre></div>
<pre><code>##      tsn     parentname parenttsn rankname     taxonname rankid
## 1 180721          Suini    898083    genus           Sus    180
## 2 624935    Babyrousini    898084    genus     Babyrousa    180
## 3 624936  Phacochoerini    898085    genus  Phacochoerus    180
## 4 624937 Potamochoerini    898086    genus   Hylochoerus    180
## 5 624938 Potamochoerini    898086    genus Potamochoerus    180</code></pre>
<p>Ví dụ lấy danh sách các loài của họ <strong>Suidae</strong></p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="xử-lý-danh-pháp.html#cb109-1" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">downstream</span>(<span class="st">&#39;Suidae&#39;</span>, <span class="at">db=</span><span class="st">&quot;itis&quot;</span>, <span class="at">downto=</span><span class="st">&quot;species&quot;</span>)</span></code></pre></div>
<pre><code>## ══  1 queries  ═══════════════
## ✔  Found:  Suidae
## ══  Results  ═════════════════
## 
## • Total: 1 
## • Found: 1 
## • Not Found: 0</code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="xử-lý-danh-pháp.html#cb111-1" tabindex="-1"></a>res<span class="sc">$</span>Suidae</span></code></pre></div>
<pre><code>##       tsn    parentname parenttsn rankname                  taxonname rankid
## 1  180722           Sus    180721  species                 Sus scrofa    220
## 2  625006     Babyrousa    624935  species        Babyrousa babyrussa    220
## 3  625007  Phacochoerus    624936  species   Phacochoerus aethiopicus    220
## 4  625008  Phacochoerus    624936  species     Phacochoerus africanus    220
## 5  625009   Hylochoerus    624937  species Hylochoerus meinertzhageni    220
## 6  625010 Potamochoerus    624938  species     Potamochoerus larvatus    220
## 7  625011 Potamochoerus    624938  species       Potamochoerus porcus    220
## 8  625012           Sus    180721  species               Sus barbatus    220
## 9  625013           Sus    180721  species            Sus bucculentus    220
## 10 625014           Sus    180721  species              Sus cebifrons    220
## 11 625015           Sus    180721  species             Sus celebensis    220
## 12 625017           Sus    180721  species           Sus philippensis    220
## 13 625018           Sus    180721  species              Sus salvanius    220
## 14 898186     Babyrousa    624935  species    Babyrousa bolabatuensis    220
## 15 898187     Babyrousa    624935  species       Babyrousa celebensis    220
## 16 898188     Babyrousa    624935  species      Babyrousa togeanensis    220
## 17 898189           Sus    180721  species           Sus ahoenobarbus    220
## 18 898190           Sus    180721  species                Sus oliveri    220
## 19 898268           Sus    180721  species             Sus verrucosus    220</code></pre>
<p>Ví dụ lấy danh sách loài của chi <em>Billolivia</em> từ dữ liệu GBIF</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="xử-lý-danh-pháp.html#cb113-1" tabindex="-1"></a><span class="fu">downstream</span>(<span class="st">&#39;Billolivia&#39;</span>, <span class="at">db=</span><span class="st">&quot;gbif&quot;</span>, <span class="at">downto=</span><span class="st">&quot;species&quot;</span>)</span></code></pre></div>
<pre><code>## ══  1 queries  ═══════════════
## ✔  Found:  Billolivia
## ══  Results  ═════════════════
## 
## • Total: 1 
## • Found: 1 
## • Not Found: 0</code></pre>
<pre><code>## $Billolivia
##                         name    rank      key     name_type
## 1      Billolivia cadamensis species 10887487 canonicalname
## 2         Billolivia citrina species 10886269 canonicalname
## 3             Billolivia kyi species 10710697 canonicalname
## 4    Billolivia lamdongensis species 11165881 canonicalname
## 5  Billolivia longipetiolata species  9194430 canonicalname
## 6     Billolivia middletonii species 10846121 canonicalname
## 7     Billolivia minutiflora species  8964907 canonicalname
## 8        Billolivia moelleri species 10737555 canonicalname
## 9          Billolivia noanii species 10884758 canonicalname
## 10       Billolivia poilanei species  8841424 canonicalname
## 11        Billolivia thongii species 10711917 canonicalname
## 12         Billolivia tichii species 10819236 canonicalname
## 13        Billolivia truciae species 10739074 canonicalname
## 14   Billolivia vietnamensis species  9206741 canonicalname
## 15       Billolivia violacea species  8744926 canonicalname
## 16        Billolivia yenhoae species 10736400 canonicalname
## 
## attr(,&quot;class&quot;)
## [1] &quot;downstream&quot;
## attr(,&quot;db&quot;)
## [1] &quot;gbif&quot;</code></pre>
<p>Chúng ta có thể nhập các cấp phân loại sau vào tham số <code>downto =</code> : <code>'superkingdom', 'kingdom', 'subkingdom','infrakingdom','phylum','division','subphylum', 'subdivision','infradivision', 'superclass','class','subclass','infraclass', 'superorder','order','suborder','infraorder','superfamily','family', 'subfamily','tribe','subtribe','genus','subgenus','section','subsection', 'species group','species','subspecies','variety','form','subvariety','race', 'stirp', 'morph','aberration','subform', 'unspecified', 'no rank'</code></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tra-cứu-cấp-độ-quý-hiếm-của-loài-theo-iucn.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bandocoban.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
